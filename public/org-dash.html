<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Organizer Dashboard</title>
</head>

        <script src="https://code.jquery.com/jquery-3.7.1.min.js"
        integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet"
  integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous" />
<!-- for bootstrap css -->

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"
  integrity="sha384-ndDqU0Gzau9qJ1lfW4pNLlhNTkCfHzAVBReH9diLvGRem5+R9g2FzA8ZGN954O5Q" crossorigin="anonymous"></script>
<!-- for bootstrap js -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"
  integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg=="
  crossorigin="anonymous" referrerpolicy="no-referrer" /><!--  for jQuery -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"
  integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg=="
  crossorigin="anonymous" referrerpolicy="no-referrer" />
<script src="https://code.jquery.com/jquery-3.7.1.min.js"
  integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
</head>
<script>
          function showUser()
          {
            let activeUser=localStorage.getItem("activeUser");
            
            document.getElementById("email").value=activeUser;
          }
          function doLogout()
          {
             localStorage.removeItem("activeUser");
             location.href="index.html";

          }
          
$(document).ready(function () {
            
      
      let jasoos=0;
        $("#Pwd").blur(function () {
            
            let obj = {
                type: "get",
                url: "/do-Check-Email-Pwd",
                data: {
                    Email: $("#email").val(),
                    Pwd: $("#Pwd").val()


                }
            }

            $.ajax(obj).then(

                function (response) {
                  if(response=='Good')
                {
                  // alert("asdfghjkl");
                  $("#NewPwd").prop('readonly', false);
                  if(jasoos==1)
                {
                  $("#btnAJAXreset").prop("disabled", false);
                }
                }

                if(response=='Bad')
                { 
                  $("#btnAJAXreset").prop("disabled", "true");
                  $("#NewPwd").prop('readonly', true);
                  alert("Email id and password do not Match!");

                }
                    
                }).fail(function (err) {
                    alert(err);
                    
                    $("#btnAJAXreset").prop("disabled", "true");
                })

        })
        $("#btnAJAXreset").click(function () {
            
            let obj = {
                type: "get",
                url: "/do-Change-Pwd",
                data: {
                    Email: $("#email").val(),
                    Pwd: $("#Pwd").val(),
                    NewPwd: $("#NewPwd").val()


                }
            }

            $.ajax(obj).then(

                function (response) {
                  if(response=='Password Updated Successfully')
                {
                  alert(response);
                  
                }
                else
                {
                  alert("An Error Occured");
                  

                }
                    
                }).fail(function (err) {
                    alert(err);
                })

        })
        $("#NewPwd").keydown(function () {
                    
                    //alert();
                    $("#NewPwd").keyup(function () {
                        let X = $(this).val();
                        if (X.length >= 8) {
                            $("#length").css("color", "green");
                        }
                        if (X.length < 8) {
                            $("#length").css("color", "red");
                            $("#btnAJAXreset").prop("disabled", "true");
                            jasoos=0;
                        }
                        let regexUPPER = /[A-Z]/;
                        if (regexUPPER.test(X) == true) {
                            $("#uppercase").css("color", "green");
                        }
                        if (regexUPPER.test(X) == false) {
                            $("#uppercase").css("color", "red");
                            $("#btnAJAXreset").prop("disabled", "true");
                            jasoos=0;
                        }
                        let regexlower = /[a-z]/;
                        if (regexlower.test(X) == true) {
                            $("#lowercase").css("color", "green");
                            
                        }
                        if (regexlower.test(X) == false) {
                            $("#lowercase").css("color", "red");
                            $("#btnAJAXreset").prop("disabled", "true");
                            jasoos=0;
                        }
                        let regexnumber = /[0-9]/;
                        if (regexnumber.test(X) == true) {
                            $("#number").css("color", "green");
                        }
                        if (regexnumber.test(X) == false) {
                            $("#number").css("color", "red");
                            $("#btnAJAXreset").prop("disabled", "true");
                            jasoos=0;
                        }
                        let regexspecial = /[!@#$%^&*(),.?":{}|<>]/;
                        if (regexspecial.test(X) == true) {
                            $("#special").css("color", "green");
                        }
                        if (regexspecial.test(X) == false) {
                            $("#special").css("color", "red");
                            $("#btnAJAXreset").prop("disabled", "true");
                          jasoos=0;
                        }

                        if (X.length >= 8 && regexUPPER.test(X) == true && regexlower.test(X) == true && regexnumber.test(X) == true && regexspecial.test(X) == true) {
                            jasoos=1;
                            
                                $("#btnAJAXreset").prop("disabled", false);
                                
                                
                            
                            // else
                            // {
                            //     // alert();
                            // }
                            
                        }
                        else {

                            $("#btnAJAXreset").prop("disabled", "true");
                            
                        }
                    })
                })
              })
            
        </script>
        <style>
          .card{
            transition: all 0.3s;
          }

          .card:hover{
            transform: scale(1.15);
          }
           body.dark-theme {
      background-color: #121212;
      color:white;
    }
    .tour {
        transition: all 0.4s;
        
    }

    .tour:hover {
        transform: scale(1.1);
        background-color: rgb(0, 136, 255);
        
    }
    .tourimgsrc{
      

      width: 100%; height: 250px; background: url('pics/15592759_5638482.jpg') no-repeat ; 
      background-size: cover;

    }
    .manageimgsrc{
      

      width: 100%; height: 250px; background: url('pics/7607115_3670301.jpg') no-repeat center center; 
      background-size: cover;

    }
    .profileimgsrc{
      

      width: 100%; height: 250px; background: url('pics/070ee491-fb67-4e89-805b-d3fcbfab3b8a.jpg') no-repeat ; 
      background-size: cover;

    }
    #gif3{
       height: 250px; background: url('pics/settings_14673993.png') no-repeat center center; 
      background-size: cover;

    }
    .shine-text {
        font-size: 3rem;
        font-weight: bold;
        position: relative;
        overflow: hidden;
        background: linear-gradient(90deg, #606060, rgb(34, 34, 34), #6e6e6e);
        background-size: 200%;
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        animation: shine 4s infinite ease-in-out;
    }



    @keyframes shine {
        0% {
            background-position: 200% 0;
        }

        100% {
            background-position: -200% 0;
        }
    }
    .shine-text2 {
        font-size: 3rem;
        font-weight: bold;
        position: relative;
        overflow: hidden;
        background: linear-gradient(90deg, #9d9d9d, rgb(196, 196, 196), #9f9f9f);
        background-size: 200%;
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        animation: shine 4s infinite ease-in-out;
    }


    @keyframes shine {
        0% {
            background-position: 200% 0;
        }

        100% {
            background-position: -200% 0;
        }
    }

    .btnnn {
        transition: all 0.4s;
        background-color: #6e6e6e;
        
    }

    .btnnn:hover {
        transform: scale(1.1);
        background-color: rgb(0, 0, 0);
        color: rgb(255, 255, 255);
    }
    .btnlog {
        transition: all 0.4s;
        background-color: #ff4b4b;
        color: rgb(255, 255, 255);
        
    }

    .btnlog:hover {
        transform: scale(1.1);
        background-color: rgb(231, 43, 30);
        color: rgb(255, 255, 255);
    }

</style>


<body onload="showUser();" style="background-image: url(pics/3585229_66186.jpg); background-size:cover;background-position: top;
background-repeat: no-repeat;
background-attachment: fixed;overflow-x: hidden;">
  <nav class="navbar navbar-expand-lg bg-body-tertiary "  style="box-shadow: 1px 1px 10px rgb(102, 102, 102);">
  <div class="container-fluid ">
    <div  class="me-4"
                style="padding-left: 10px;padding-right: 10px; width: fit-content;height: fit-content;border-radius: 20px;">
                <h1 style="font-family: Cambria, Cochin, Georgia, Times, 'Times New Roman', serif;"
                    class="fs-1 shine-text" id="jersify">Jersify</h1>
            </div>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
     <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
      <div class="navbar-nav ">
        <ul class="navbar-nav">
      <li class="nav-link"> <a class="btn btnnn nav-link me-3 " style="border-radius: 30px;padding-left:15px;padding-right: 15px; float: left;" aria-current="page" href="/">Home</a>
    </li>
    <!-- <li class="nav-link">  <a href="" class="btn btnnn nav-link me-3 " data-bs-toggle="modal" data-bs-target="#ChangePass" style="float: left; border-radius: 30px;padding-left:15px;padding-right: 15px;">Change Password</a>
</li> -->
     <li class="nav-link"> <button class="btn btnlog nav-link " style="border-radius: 30px;float: left;padding-left:15px;padding-right: 15px; "><span  onclick="doLogout();">Logout</span></button>
     </li> </ul>
</div>
</div>
  
   
    
    </div>
  </div>
</nav>
<div class="container">
  <div class="row">
    <div class="card col-md-3" style="width: 18rem;margin-left: 20px; margin-top: 50px;background:rgb(255, 255, 255); border:solid 1px rgba(0, 0, 0, 0.852); box-shadow: 3px 3px 20px rgba(0, 0, 0, 0.663);">
      <img class="profileimgsrc" style="border-radius:5px;">
      <div class="card-body">
        <h5 class="card-title">Profile</h5>
        <p class="card-text"></p>
        <a href="/org-details" class="btn btn-primary tour" style="border-radius: 30px;">Details</a>
      </div>
    </div>
    <div class="card col-md-3" style="width: 18rem;margin-left: 20px; margin-top: 50px;background:rgb(255, 255, 255); border:solid 1px rgba(0, 0, 0, 0.852); box-shadow: 3px 3px 20px rgba(0, 0, 0, 0.663);">
      <img  class="tourimgsrc"  style="border-radius: 5px;">
      <div class="card-body">
        <h5 class="card-title">Add Tournaments</h5>
        <p class="card-text"></p>
        <a href="/org-Events" class="btn btn-primary tour" style="border-radius: 30px;" >ADD <i class="fa-solid fa-plus" style="color: #ffffff;"></i></a>
      </div>
    </div>
    <div class="card col-md-3" style="width: 18rem;margin-left: 20px; margin-top: 50px;background:rgb(255, 255, 255); border:solid 1px rgba(0, 0, 0, 0.852); box-shadow: 3px 3px 20px rgba(0, 0, 0, 0.663);">
      <img class="manageimgsrc" style="border-radius: 5px;">
      <div class="card-body">
        <h5 class="card-title">Manage Tournaments</h5>
        <p class="card-text"></p>
        <a href="/org-FetchAll" class="btn btn-primary tour" style="border-radius: 30px;" >Manage</a>
      </div>
    </div>
    <div class="col-md-3">
    <div class="card col-md-3" style="width: 18rem;margin-left: 20px; margin-top: 50px;background:rgb(255, 255, 255); border:solid 1px rgba(0, 0, 0, 0.852); box-shadow: 3px 3px 20px rgba(0, 0, 0, 0.663);">
      <img  id="gif3">
      <div class="card-body">
        <h5 class="card-title" style="color: #000000;">Settings</h5>
        <p class="card-text"></p>
        <a href="" class="btn btn-primary tour" data-bs-toggle="modal" data-bs-target="#exampleModalToggle" style="border-radius: 30px;">Go</a>

      </div>
    </div>
    </div>
  </div>
  </div>
  <!-- modal -==-=- ===== -->

<div class="modal fade" id="exampleModalToggle" aria-hidden="true" aria-labelledby="exampleModalToggleLabel" tabindex="-1">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="exampleModalToggleLabel">Settings</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body" style="align-content: center;">
              <div class="input-group mb-3">
              <span class="input-group-text" style="border: none; text-decoration: none;">Manage Your Profile:</span>
            <button class="btn btnnn" style="border-radius:40px;"> <a href="organizer-details.html" style="text-decoration: none; color: #ffffff;">Manage</a></button>
            </div>

            <div class="input-group mb-3">
              <span class="input-group-text" style="border: none; text-decoration: none;">Change Password:</span>
              <button class="btn btnnn" data-bs-target="#ChangePass" data-bs-toggle="modal" style="border-radius:40px; color: #ffffff;" >Change</button>
            </div>
            <div class="input-group mb-3">
              <span class="input-group-text" style="border: none; text-decoration: none;">Logout:</span>
              <button class="btn btnlog" data-bs-target="#ChangePass" data-bs-toggle="modal" style="border-radius:40px; " onclick="doLogout();">Logout</button>
            </div>

        
      </div>
      <div class="modal-footer">
        <!-- <button class="btn btn-primary" data-bs-target="#ChangePass" data-bs-toggle="modal">Open second modal</button> -->
      </div>
    </div>
  </div>
</div>
<!-- modal parent ends-->
  <div class="modal fade" id="ChangePass" aria-hidden="true" aria-labelledby="exampleModalToggleLabel2" tabindex="-1">
    <div class="modal-dialog ">
      <form>
        <div class="modal-content">
          <div class="modal-header">
            <h1 class="modal-title fs-5" id="staticBackdropLabel">Change Password</h1>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <div class="input-group mb-3">
              <span class="input-group-text" id="basic-addon1">Email id</span>
              <input type="text" class="form-control" aria-describedby="basic-addon1" id="email" name="email" readonly >
            </div>
            <div class="input-group mb-3">
              <span class="input-group-text" id="basic-addon1">Old Password</span>
              <input type="text" class="form-control" aria-describedby="basic-addon1" id="Pwd" name="Pwd">
            </div>
            <div class="input-group mb-3">
              <span class="input-group-text" id="basic-addon1">New Password</span>
              <input type="text" class="form-control" aria-describedby="basic-addon1" id="NewPwd" name="NewPwd" >
            </div>
             <div class="input-group-mb-2 mt-2" style="display: flex;">
              <ul class="requirements" style="list-style-type: none;color: red;">
                                    <li id="length"><i class="fa-solid fa-check" style="color: #000000;"></i> At least 8
                                        characters</li>
                                    <li id="uppercase"><i class="fa-solid fa-check" style="color: #000000;"></i> At
                                        least one uppercase letter</li>
                                    <li id="lowercase"><i class="fa-solid fa-check" style="color: #000000;"></i> At
                                        least one lowercase letter</li>
                                    <li id="number"><i class="fa-solid fa-check" style="color: #000000;"></i> At least
                                        one number</li>
                                    <li id="special"><i class="fa-solid fa-check" style="color: #000000;"></i> At least
                                        one special character (!@#$%^&*)</li>
                                </ul>

             </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            <button type="button" class="btn btn-primary" id="btnAJAXreset" disabled>Change</button>
          </div>
        </div>
      </form>
      
    </div>
  </div>

</body>

</html>